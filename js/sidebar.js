document.addEventListener('DOMContentLoaded', function () {
    const modal = document.getElementById('modal-overlay');
    const modalBody = document.getElementById('modal-body');
    const worksModal = document.getElementById('works-modal');

    const philosophers = {
        socrates: { name: 'Сократ', years: '470–399 до н.э.', image: 'img/socrates.jpg', bio: 'Древнегреческий философ, считающийся одним из основателей западной философии. Не оставил письменных трудов — его идеи дошли до нас через учеников, особенно Платона. Известен своим методом «майевтики» — искусства ведения диалога, в ходе которого собеседник приходит к истине самостоятельно. Основной принцип: «Познай самого себя». Осужден на смерть за «развращение молодёжи» и «непризнание богов».', quote: '«Я знаю, что ничего не знаю»' },
        plato: { name: 'Платон', years: '428/427–348/347 до н.э.', image: 'img/plato.jpg', bio: 'Ученик Сократа и учитель Аристотеля. Основал в Афинах первую в истории высшую школу — Академию. Его философия основана на теории идей: истинная реальность существует не в материальном мире, а в мире вечных, неизменных «форм» или «идей». Главное произведение — диалог «Государство».', quote: '«Мы можем легко простить ребенка, который боится темноты; настоящая трагедия жизни — когда взрослые боятся света»' },
        aristotle: { name: 'Аристотель', years: '384–322 до н.э.', image: 'img/aristotle.jpg', bio: 'Ученик Платона, основатель Лицея в Афинах. В отличие от Платона, Аристотель делал упор на эмпирическое наблюдение и логику. Он систематизировал почти все области знания своего времени. Автор логики как науки. Считал, что цель жизни — эвдемония через добродетельную деятельность.', quote: '«Мы есть то, что мы постоянно делаем. Совершенство, следовательно, не действие, а привычка»' },
        descartes: { name: 'Рене Декарт', years: '1596–1650', image: 'img/descartes.jpg', bio: 'Французский философ, математик и учёный, считающийся основателем современной философии. Ввёл метод радикального сомнения и пришёл к выводу: «Cogito, ergo sum» («Мыслю, следовательно, существую»). Положил начало дуализму — учению о разделении разума и тела.', quote: '«Мыслю, следовательно, существую»' },
        kant: { name: 'Иммануил Кант', years: '1724–1804', image: 'img/kant.jpg', bio: 'Немецкий философ, основатель трансцендентального идеализма. В «Критике чистого разума» исследовал, как возможны априорные суждения в науке. В этике сформулировал категорический императив.', quote: '«Две вещи наполняют душу благоговением: звёздное небо надо мной и нравственный закон во мне»' },
        nietzsche: { name: 'Фридрих Ницше', years: '1844–1900', image: 'img/nietzsche.jpg', bio: 'Немецкий философ, поэт и филолог, один из самых влиятельных мыслителей XIX века. Критиковал христианскую мораль как «мораль рабов», провозглашал «смерть Бога» и призывал к «переоценке всех ценностей».', quote: '«То, что не убивает меня, делает меня сильнее»' },
        augustine: { name: 'Августин Аврелий', years: '354–430', image: 'img/augustine.jpg', bio: 'Отец латинской церкви, чьи труды заложили основы христианской философии. В «Исповеди» исследует природу времени, памяти и внутреннего «я».', quote: '«Ты создал нас для Себя, и не знает покоя наше сердце, пока не успокоится в Тебе»' },
        aquinas: { name: 'Фома Аквинский', years: '1225–1274', image: 'img/aquinas.jpg', bio: 'Средневековый теолог и философ, соединивший учение Аристотеля с христианством. В «Сумме теологии» доказывал существование Бога пятью путями.', quote: '«Чудо — это не нарушение природы, а проявление высшей природы»' },
        erasmus: { name: 'Эразм Роттердамский', years: '1466–1536', image: 'img/erasmus.jpg', bio: 'Гуманист эпохи Возрождения, автор «Похвалы глупости». Критиковал церковные злоупотребления, но отвергал Реформацию.', quote: '«Главное — не то, что знаешь, а как ты используешь это»' },
        more: { name: 'Томас Мор', years: '1478–1535', image: 'img/more.jpg', bio: 'Английский гуманист, канцлер Генриха VIII, автор утопического романа «Утопия». Казнён за отказ признать короля главой церкви.', quote: '«В Утопии нет бедных, потому что нет богатых»' },
        spinoza: { name: 'Бенедикт Спиноза', years: '1632–1677', image: 'img/spinoza.jpg', bio: 'Голландский философ, монист. В «Этике» доказывал, что Бог и Природа — одно и то же (Deus sive Natura). Свобода — это осознание необходимости.', quote: '«Свободный человек о смерти меньше всего размышляет»' },
        sartre: { name: 'Жан-Поль Сартр', years: '1905–1980', image: 'img/sartre.jpg', bio: 'Французский философ-экзистенциалист. Утверждал: «Существование предшествует сущности». Человек обречён быть свободным.', quote: '«Ад — это другие»' },
        wittgenstein: { name: 'Людвиг Витгенштейн', years: '1889–1951', image: 'img/wittgenstein.jpg', bio: 'Австрийско-британский философ, один из основателей аналитической философии. В «Логико-философском трактате» писал: «О чём нельзя говорить, о том следует молчать».', quote: '«Границы моего языка означают границы моего мира»' }
    };

    const worksData = {
        socrates: 'socrates',
        plato: 'plato',
        aristotle: 'aristotle',
        descartes: 'descartes',
        kant: 'kant'
    };

    function openPhilosopherModal(id) {
        const data = philosophers[id];
        if (data) {
            modalBody.innerHTML = `
                <div style="text-align: center; margin-bottom: 20px;">
                    <img src="${data.image}" alt="${data.name}" style="width: 120px; height: 120px; object-fit: cover; border-radius: 50%; box-shadow: 0 4px 12px rgba(0,0,0,0.15);">
                    <h2 style="margin: 15px 0 5px; color: #2c3e50;">${data.name}</h2>
                    <p style="color: #7f8c8d; margin-bottom: 15px;">${data.years}</p>
                </div>
                <p style="margin-bottom: 20px;">${data.bio}</p>
                <div style="font-style: italic; padding-left: 20px; border-left: 3px solid #e74c3c; color: #555;">
                    ${data.quote}
                </div>
            `;
            modal.style.display = 'flex';
        }
    }

    function openWorksModal(key) {
        if (worksData[key]) {
            const event = new CustomEvent('openWorks', { detail: { key: worksData[key] } });
            document.dispatchEvent(event);
        }
    }

    document.querySelectorAll('[data-modal]').forEach(link => {
        link.addEventListener('click', (e) => {
            e.preventDefault();
            openPhilosopherModal(link.dataset.modal);
        });
    });

    document.querySelectorAll('[data-works]').forEach(link => {
        link.addEventListener('click', (e) => {
            e.preventDefault();
            openWorksModal(link.dataset.works);
        });
    });
});